cmake_minimum_required(VERSION 3.22)
set(CMAKE_C_FLAGS "-Wall -Werror -std=c99")
set(CMAKE_CXX_FLAGS "-Wall -Werror")
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)
project(theblockchainkiller)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include)
add_executable(main src/main.c)
add_library(example src/example.c)
target_link_libraries(main example)
#include_directories("C:/Program Files (x86)/cmocka/include")
include_directories(${CMOCKA_INCLUDE_DIR})
find_package(cmocka REQUIRED)
add_executable(tests tests/main.c)
add_library(test_example tests/test_example.c)
target_link_libraries(test_example example)
target_link_libraries(tests test_example)
#link_directories("C:/Program Files (x86)/cmocka/lib")
target_link_libraries(tests cmocka)
#target_link_libraries(tests "C:/Program Files (x86)/cmocka/bin/cmocka.dll")
message("include: ${CMOCKA_INCLUDE_DIR}")
message("libraries: ${CMOCKA_LIBRARIES}")
#target_link_libraries(tests ${CMOCKA_LIBRARIES})
